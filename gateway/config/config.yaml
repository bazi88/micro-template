gateway:
  mode: ${GATEWAY_MODE:-standalone}  # standalone/auth
  port: ${GATEWAY_PORT:-80}
  consul_address: ${CONSUL_ADDRESS:-consul:8500}

services:
  # Các service mặc định
  api:
    name: api-service
    urls: ["http://api:8080"]
    prefixes: ["/api/v1"]
    auth_required: false

  logging:
    name: logging-service
    urls: ["http://logging-service:8082"]
    prefixes: ["/api/logs"]
    auth_required: false

  # Service template cho các microservice khác
  user:
    name: user-service
    urls: ["http://user-service:8081"]
    prefixes: ["/api/users"]
    auth_required: true

  notification:
    name: notification-service
    urls: ["http://notification-service:8083"]
    prefixes: ["/api/notifications"]
    auth_required: true

# Cấu hình cho chế độ auth
auth:
  enabled: ${AUTH_ENABLED:-false}
  jwt_secret: ${JWT_SECRET:-your-secret-key}
  jwt_expiration: ${JWT_EXPIRATION:-24h}
  excluded_paths:
    - "/api/v1/auth/login"
    - "/api/v1/auth/register"
    - "/health"
    - "/metrics"

# Cấu hình cho service discovery
service_discovery:
  enabled: true
  provider: consul
  refresh_interval: 30s

# Cấu hình cho rate limiting
rate_limit:
  enabled: true
  requests_per_second: 100
  burst: 50

# Cấu hình cho circuit breaker
circuit_breaker:
  enabled: true
  timeout: 30s
  max_requests: 3
  interval: 10s
  error_threshold: 0.6

# Cấu hình cho monitoring
monitoring:
  metrics_path: /metrics
  health_path: /health 